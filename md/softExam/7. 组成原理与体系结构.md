## 1. 大纲

```
1. 二进制、十进制和十六进制等常用进制数及其相互转换
2. 树的表示(原码、反码、补码、移码的表示，整数和实数的机内表示，精度和溢出)
3. 非数值表示(字符和汉子表示、声音表示、图像表示)
4. 校验方法和校验码(奇偶校验码、汉明校验码、循环冗余校验码)
5. 计算机中的二进制运算方法
6. 逻辑代数的基本运算和逻辑表达式的化简
7. CPU和存储器的组成、性能和基本工作原理
8. 常用I/O设备、通信设备的性能，以及基本工作原理
9. I/O接口的功能、类型和特性
10. I/O控制方式(中断系统、DMA、I/O处理机方式)
11. CISC/RISC，流水线操作，多处理机，并行处理
```



## 2. 考点

```
1. 流水线
2. 告诉缓冲存储器
3. 内存编址与存储相关计算问题
4. 数制、校验码、并行计算等问题
```



## 3. 流水线

### 3.1 流水线概念

> 流水线是指在程序执行时多条指令重叠进行操作的一种准并行处理实现技术。各种部件同时处理是针对不同指令而言的，它们可同时为多条指令的不同部分进行工作，以提高各部件的利用率和指令平均执行速度。

```
1. 指令流水线：
	计算机中一条指令的执行需要若干步，通常采用流水线技术来实现指令的执行，以提高CPU性能。
2. 运算操作流水线：
	计算机在执行各种运算操作时也可以应用流水线技术来提高运算速度。
```

### 3.2 流水线指令运行时间的计算

>公式：一条指令每个阶段所需时间之和 + (n - 1) * 一条指令中某个最慢阶段所需的时间
>	n：多少条指令
>
>注意：
>	 流水线的操作周期：指令中某个最慢阶段所需的时间

### 3.3 流水线的吞吐率

> 流水线的吞吐率(Though Put rate, TP)是指在单位时间内流水线所完成的任务数量或输出结果数量。计算流水线吞吐率的最基本公式为：
>
> ​	TP = n / Tk(n为任务数，Tk是处理完成n个任务所需时间)

### 3.4 流水线的加速比

> 完成同样的一批任务，不使用流水线所用的时间与使用流水线所用的时间之比，称为流水线的加速比。公式为：
>
> ​	S = T0 / Tk(T0是不使用流水线所用时间，Tk是使用流水线所需时间)
>
> 最大加速比：
>
> ​	Smax = Lim(n->∞)

### 3.5 流水线效率

> 流水线的效率是指流水线的设备利用率。在时空图上，流水线效率定义为n个任务占用的时间去与k个流水段总的时空去之比。计算流水线效率的一般公式为：
>
> ​	E = n个任务占用的时空区/k个流水段的总时空区 = T0 / (k*Tk)
>
> 效率和吞吐率的关系：
>
> ​	E = TP × Δt
>
> 效率和加速比的关系：
>
> ​	E = S / k (k是流水线分成的阶段数)



## 4. 高速缓冲存储器

### 4.1 Cache的概念

```
1. Cache的功能：提高CPU数据输入输出的速率，调和CPU速度和内存存取速度之间的巨大差异
2. 在计算机的存储系统体系中，Cache是访问速度最快的层次
3. 使用Cache改善系统性能的依据是程序的局部性原理
```

### 4.2 命中率及相关问题

> 如果以h代表对Cache的访问命中率，t1表示Cache的周期时间，t2表示主存储器周期时间
>
> 以读操作为例，使用“Cache+主存储器”的系统的平均周期为t3，则
>
> ​		t3 = h × t1 + （1 - h) × t2
>
> 其中，（1-h）称为失效率/未命中率

### 4.3 Cache的读写过程

```
1. 写直达：当要写Cache时，数据同时写回主存储器，有时也称为写通。
2. 写回：CPU修改Cache的某一行后，相应的数据并不立即写入主存储区单元。而是当该行被从Cache淘汰时，才把数据写回主存储器中。
3. 标记法：对Cache中的每一个数据设置一个有效位。
```

### 4.4 地址映像

```
1. 常见的映像方法有直接映像、相联映像和组相联映像
2. 地址映像是将主存与Cache的存储空间划分为若干大小相同的页/块。
	例如某机的主存容量为1GB，划分为2048页，每页512KB；
			Cache容量为8MB，划分为16页，每页512KB。
```

### 4.5 直接映像

```
主存地址分为：
    主存标记：7位
    Cache页号：4位
    页内地址：19位

主存页号：主存标记 + Cache页号
Cache地址：Cache页号 + 页内地址
```

### 4.6 全相联映像

```
主存地址分为：
	主存页标记/主存页号：11位
	页内地址：19位
```

### 4.7 组相联映像

```
主存地址分为：
	区号
	组号
	组内块号
	块号地址
```



## 5. 内存编址与存储

### 5.1 内存编址

```
1. 编址
	一块8*4位的芯片，需要用3位的地址来表示，如000,001 ... 111
	3位地址可以表示出8个地址， 2^3 = 8
	地址线的位数为地址位数，即3
	数据线的位数为4位，一次取4位数据
2. 芯片的拼接
	两块8*4位的芯片，有两种方式进行拼接
	2.1 纵向拼接
	2.2 横向拼接
```

### 5.2 存储相关计算

```
1. 磁道数 = (外半径 - 内半径) * 道密度 * 记录面数
注意：硬盘的第一面和最后一面是保护用的，要减掉。如4个双面的盘片的记录数为4*2-2=6

2. 非格式化容量 = 位密度 * π * 最内圈直径 * 总磁道数
注意：位密度是每道不同的，但每道的容量是相同的。0道是最外面的磁道，其为密度最小。

3. 格式化容量 = 每道扇区数 * 扇区容量 * 总磁道数

4. 平均数据传输速率 = 每道扇区数 * 扇区容量 * 盘片转数
					最内圈直径 * π * 位密度 * 转速

5. 存取时间 = 寻道时间 + 等待时间
注意：寻道时间是指磁头移动到磁道所需时间；
	等待时间是等待读写的扇区转到磁头下方所用的时间。 
```

```
磁带相关计算公式：
数据传输速率(B/s) = 磁带记录密度(B/mm) * 带速(mm/s)

B1 = (字节数 / 记录) * 块因子 / 记录密度

数据块长度 = B1(记录数据所需长度) + B2(块间间隔)

R(有效时间) = (N * 字节数 / 记录) / 传输速度

D(间隔时间) = 块间隔总长 / 带速 = [(N/块化因子) * 块间间隔] / 带速

读N条记录所需的时间T = S(启停时间) + R + D
```

 

## 6. 数制

```
1. 进制的表示及转换
	其他进制转为十进制数：按权展开法，底数为其他进制的数。
	十进制转为其他进制：短除法，除以进制，余数的倒叙为所求进制
	
2. 定点整数：原码
	定点：固定小数点，小数点固定在数值之后为定点整数，小数点固定在最高位和次高位之间为定点小数
	原码：将最高位用作符号位(0表示正数，1表示负数)，其余位代表数值本身的绝对值的表示形式。
	X = +0110，则[X]原 = 0 0110
	X = -0110，则[X]原 = 1 0110
	正数的原码公式：[X]原 = X （0 <= X < 2^n）
	负数的原码公式：[X]原 = 2^n - X（n为X的位数）（-2^n < X <= 0）

3. 定点小数：原码
	正数的原码公式：[X]原 = X （0 <= X < 1）
	负数的原码公式：[X]原 = 1 - X （-1 < X <= 0）
	
4. 定点整数：反码
	正数的反码与原码相同。
	负数的反码符号位为1，为该数绝对值的原码按位取反。
	正数的反码公式：[X]反 = X （0 <= X < 2^n）
	负数的反码公式：[X]反 = 2^n - X（n为X的位数）（-2^n < X <= 0）
	
5. 定点小数：反码
	正数的反码公式：[X]反 = X （0 <= X < 1）
	负数的反码公式：[X]反 = 2 - 2^(n-1) - X （-1 < X <= 0）
	
6. 定点整数：补码
	整数的补码与原码相同。
	负数的补码是该数的反码加1，这个加1就是“补”
	正数的补码公式：[X]补 = X （0 <= X < 2^n）
	负数的补码公式：[X]补 = 2^(n+1) + X（n为X的位数）（-2^n < X <= 0）
	
7. 定点小数：补码
	正数的补码公式：[X]补 = X （0 <= X < 1）
	负数的补码公式：[X]补 = 2 + X （-1 <= X < 0）
	
8. 移码
	把补码的符号位进行取反即可。
```













